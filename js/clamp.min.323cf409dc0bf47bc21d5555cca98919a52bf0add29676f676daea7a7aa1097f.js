/*!
 * Clamp.js 0.11.5
 *
 * Now Maintained by Josh English http://joshengish.com
 * Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?module.exports={clamp:t()}:e.$clamp=t()})(this,function(){function e(e,t){t=t||{};var s,o,a,c,h,m,j,O=this,f=window,n={clamp:t.clamp||2,useNativeClamp:typeof t.useNativeClamp=="undefined"||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},r=e.style,w=e.innerHTML,_=typeof e.style.webkitLineClamp!="undefined",i=n.clamp,b=i.indexOf&&(i.indexOf("px")>-1||i.indexOf("em")>-1);n.truncationHTML&&(c=document.createElement("span"),c.innerHTML=n.truncationHTML);function v(e,t){return f.getComputedStyle||(f.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),f.getComputedStyle(e,null).getPropertyValue(t)}function p(t){var n=t||e.clientHeight,s=g(e);return Math.max(Math.floor(n/s),0)}function y(t){var n=g(e);return n*t}function g(e){var t=v(e,"line-height");return t=="normal"&&(t=parseInt(v(e,"font-size"))*1.187),Math.ceil(parseFloat(t))}a=n.splitOnChars.slice(0),s=a[0];function l(t){if(!t.lastChild)return;return t.lastChild.childNodes&&t.lastChild.childNodes.length>0?l(Array.prototype.slice.call(t.childNodes).pop()):!t.lastChild||!t.lastChild.nodeValue||t.lastChild.nodeValue===""||t.lastChild.nodeValue==n.truncationChar?(t.lastChild.parentNode.removeChild(t.lastChild),l(e)):t.lastChild}function u(t,i){if(!t||!i)return;function r(){a=n.splitOnChars.slice(0),s=a[0],o=null,h=null}var m=t.nodeValue.replace(n.truncationChar,"");if(o||(a.length>0?s=a.shift():s="",o=m.split(s)),o.length>1?(h=o.pop(),d(t,o.join(s))):o=null,c&&(t.nodeValue=t.nodeValue.replace(n.truncationChar,""),e.innerHTML=t.nodeValue+" "+c.innerHTML+n.truncationChar),o){if(e.clientHeight<=i)if(a.length>=0&&s!=="")d(t,o.join(s)+s+h),o=null;else return e.innerHTML}else s===""&&(d(t,""),t=l(e),r());if(n.animate)setTimeout(function(){u(t,i)},n.animate===!0?10:n.animate);else return u(t,i)}function d(e,t){e.nodeValue=t+n.truncationChar}return i=="auto"?i=p():b&&(i=p(parseInt(i))),_&&n.useNativeClamp?(r.overflow="hidden",r.textOverflow="ellipsis",r.webkitBoxOrient="vertical",r.display="-webkit-box",r.webkitLineClamp=i,b&&(r.height=n.clamp+"px")):(m=y(i),m<e.clientHeight&&(j=u(l(e),m))),{original:w,clamped:j}}return e})