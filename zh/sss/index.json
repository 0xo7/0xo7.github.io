[{"content":" ","description":"","id":2,"section":"sss","tags":[null],"title":"2023 1121 09121111DFSAs11","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09121111dfsas11/"},{"content":" ","description":"","id":3,"section":"sss","tags":[null],"title":"2023 1121 09121111DFSAs","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09121111dfsas/"},{"content":" ","description":"","id":4,"section":"sss","tags":[null],"title":"2023 1121 09121111DFSA","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09121111dfsa/"},{"content":" ","description":"","id":5,"section":"sss","tags":[null],"title":"2023 1121 09121111","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09121111/"},{"content":" ","description":"","id":6,"section":"sss","tags":[null],"title":"2023 1121 0912111","uri":"https://ayuxy.github.io/zh/sss/2023-1121-0912111/"},{"content":" ","description":"","id":7,"section":"sss","tags":[null],"title":"2023 1121 091211","uri":"https://ayuxy.github.io/zh/sss/2023-1121-091211/"},{"content":" ","description":"","id":8,"section":"sss","tags":[null],"title":"2023 1121 09121","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09121/"},{"content":" ","description":"","id":9,"section":"sss","tags":[null],"title":"2023 1121 09","uri":"https://ayuxy.github.io/zh/sss/2023-1121-09/"},{"content":" ","description":"","id":10,"section":"sss","tags":[null],"title":"2023 1121 0","uri":"https://ayuxy.github.io/zh/sss/2023-1121-0/"},{"content":"因 zzo 主题的原作者已停止更新，所以本文主要记录 zzo 主题的修复以及一些优化。由于不擅长前端，所以部分修复和优化代码可能存在一些问题\n添加自定义CSS文件 修改 params.toml 文件，如下：\n1 custom_css = [\u0026#34;scss/_custom.scss\u0026#34;] 在 assets/scss 下新建 _custom.scss 文件\n优化TOC 当 tocPosition = \u0026ldquo;outer\u0026rdquo; 时，如下，对 TOC 位置进行调整\n在 _custom.scss 文件中添加如下内容\n1 2 3 .toc[data-dir=ltr] { padding-left: 1.5rem !important; } 注：如果不想在 _custom.scss 修改，也可以修改 themes\\zzo\\assets\\sass\\components\\_toc.scss 文件的如下内容\n1 2 3 \u0026amp;[data-dir=\u0026#34;rtl\u0026#34;] { padding-right: 0.5rem; } 修改为\n1 2 3 \u0026amp;[data-dir=\u0026#34;rtl\u0026#34;] { padding-right: 1.5rem; } 优化文章内容样式 修改标签 在 _custom.scss 添加如下内容：\n1 2 3 4 .single__meta{ flex-direction: column !important; align-items: flex-start !important; } 修改 blockquote 在 _custom.scss 添加如下内容：\n1 2 3 4 .single__contents[data-dir=ltr] blockquote { margin: 0 0.5rem 1rem 0.5rem !important; padding: 0 0 0 1rem !important; } 修改段落间距 在 _custom.scss 添加如下内容：\n1 2 3 4 .single__contents p { margin: 0 0 1rem !important; padding: 0; } 修改主页样式 修改间距 在 _custom.scss 添加如下内容：\n1 2 3 4 5 6 .caption{ margin-top: 0.75rem !important; } .summary-classic__text { margin-top: 0.75rem !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .summary-classic:not(:last-child) hr{ margin-bottom: 0.75rem !important; } 修改📌位置 修改 layouts/partials/summary/classic.html 里面的如下内容\n1 \u0026lt;h5 class=\u0026#34;title h5\u0026#34;\u0026gt;\u0026lt;a href=\u0026#39;{{ .Permalink }}\u0026#39;\u0026gt;{{- with .Params.pinned -}}{{ ($.Site.Params.pinIcon | safeHTML) | default \u0026#34;📌\u0026#34; }}\u0026amp;nbsp;{{- end -}}{{ .Title }}\u0026lt;/a\u0026gt; \u0026lt;/h5\u0026gt; 修改为如下\n1 \u0026lt;h5 class=\u0026#34;title h5\u0026#34;\u0026gt;\u0026lt;a href=\u0026#39;{{ .Permalink }}\u0026#39;\u0026gt;{{ .Title }}{{- with .Params.pinned -}}\u0026amp;nbsp;{{ ($.Site.Params.pinIcon | safeHTML) | default \u0026#34;📌\u0026#34; }}{{- end -}}\u0026lt;/a\u0026gt; \u0026lt;/h5\u0026gt; 修改archive页 修改 layouts/archive/list.html 里面的如下内容：\n1 2 3 \u0026lt;div class=\u0026#34;px py p2 single__contents\u0026#34;\u0026gt; {{ .Content }} \u0026lt;/div\u0026gt; 修改为如下\n1 2 3 4 5 {{ with .Content }} \u0026lt;div class=\u0026#34;px py p2 single__contents\u0026#34;\u0026gt; {{ . }} \u0026lt;/div\u0026gt; {{ end }} 修复英文溢出问题 https://www.runoob.com/w3cnote/css-nowrap-break-word.html\n在 _custom.scss 添加如下内容：\n1 2 3 .single__tags{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .list__sidebar[data-dir=ltr]{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .summary-classic__content{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .toc{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .terms__list{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .archive__li{ word-break:break-all !important; } 在 _custom.scss 添加如下内容：\n1 2 3 .basicflex-column{ word-break:break-all !important; } 处理图片问题 a 标签嵌套图片导致整体容器高度变大\n修复上面的问题，在 _custom.scss 添加如下内容：\n1 2 3 .summary-classic__image[data-ani=true]{ vertical-align: middle; }\t修复后如下：\n如果使用 svg 图片，且 svg 图片比较小，那么显示如下：\n为了让 svg 图片铺满容器，可以在 _custom.scss 添加如下内容：\n1 2 3 4 .summary-classic__image[data-ani=true]{ width: 100%; height: 100%;\t}\t侧边栏修改 修改最近发布文章 修改 posts-by-order.html 文件，修改后如下\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 {{ if ($.Param \u0026#34;enableSidebarPostsByOrder\u0026#34; | default false) }} {{ $filteredSections := .Site.Pages }} {{ range $.Param \u0026#34;notAllowedTypesInHomeSidebar\u0026#34; }} {{ $filteredSections = (where $filteredSections \u0026#34;Type\u0026#34; \u0026#34;!=\u0026#34; (lower .)) }} {{ end }} {{ $hasOrder := false }} {{ range first ($.Param \u0026#34;itemsPerCategory\u0026#34;) ($filteredSections.ByParam \u0026#34;order\u0026#34;) }} {{ if .Params.order }} {{ $hasOrder = true }} {{ end }} {{ end }} {{ if $hasOrder }} \u0026lt;div class=\u0026#34;sidebar-recent__title p2\u0026#34;\u0026gt;{{ i18n \u0026#34;posts-by-order\u0026#34; | default \u0026#34;TOP POSTS\u0026#34; }}\u0026lt;/div\u0026gt; \u0026lt;ul class=\u0026#34;sidebar-recent__ul\u0026#34;\u0026gt; {{ $orderedSections := (first ($.Param \u0026#34;itemsPerCategory\u0026#34;) ($filteredSections.ByParam \u0026#34;order\u0026#34;)) }} {{ range first ($.Param \u0026#34;itemsPerCategory\u0026#34;) $orderedSections.ByLastmod.Reverse }} {{ if .Params.order }} \u0026lt;li\u0026gt; \u0026lt;a href=\u0026#34;{{ .RelPermalink }}\u0026#34; class=\u0026#34;sidebar-recent__a p2\u0026#34;\u0026gt;{{ .Title }}\u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; {{ end }} {{ end }}\t\u0026lt;/ul\u0026gt; \u0026lt;hr class=\u0026#34;hr-fade sidebar-hr\u0026#34; /\u0026gt; {{ end }} {{ end }} 除此之外，还要修改 archetypes/default.md 文件为每篇文章添加上 order : true 参数\n通过 params.toml 文件里的 itemsPerCategory = 5 参数来控制最近更新文章的篇数\n修改Recently update间距 在 _custom.scss 添加如下内容：\n1 2 3 .sidebar-recent__title:nth-child(2).p2 { margin-top: 1.5rem; } 为文章里图片添加边框 在 _custom.scss 添加如下内容：\n1 2 3 .single__contents img { border: 1px solid #dfdfdf; } 修改摘要 当摘要长度超过2行的时候用省略号表示\n而当屏幕宽度小于 769 时，摘要超过1行的时候用省略号表示\n首先在 _custom.scss 添加如下内容：\n1 2 3 4 5 6 7 .summary-classic__text { overflow:hidden; text-overflow:ellipsis; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; } 但是上面的 css 在 Webkit 浏览器内核下有作用，所以为了兼容其它浏览器内核，使用 clamp.js 实现，引入 clamp.js 后，在 _custom.js 下添加如下内容：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { var paragraphs = document.querySelectorAll(\u0026#39;.summary-classic__text.p2\u0026#39;); // 判断屏幕宽度是否小于或等于 769 像素 if (window.matchMedia(\u0026#39;(max-width: 769px)\u0026#39;).matches) { // 屏幕宽度小于或等于 769px，设置 clamp 为 1 paragraphs.forEach(function(paragraph) { $clamp(paragraph, { clamp: 1, useNativeClamp: false, animate: false }); }); } else { // 屏幕宽度大于 769px，设置 clamp 为 2 paragraphs.forEach(function(paragraph) { $clamp(paragraph, { clamp: 2, useNativeClamp: false, animate: false }); }); } }); 修改侧边栏 tags 和 series 显示的最小数量 修改间距 在 _custom.scss 添加如下内容：\n1 2 3 4 5 6 .list__main\u0026gt; .summary__container \u0026gt; .summary-classic:first-child \u0026gt; .summary-classic__flex-box { margin-top: 1.75rem; } .list__header--desc{ padding: 0rem !important; } 修改首页图片显示效果 当屏幕宽度小于 769 的时候，不显示图片，在 _custom.js 中添加如下内容：\n1 2 3 4 5 6 7 8 9 10 var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; // 如果屏幕宽度小于769，则删除元素 if (screenWidth \u0026lt; 769) { // 获取所有.summary-classic__image-container元素 var elementsToRemove = document.querySelectorAll(\u0026#39;.summary-classic__image-container\u0026#39;); // 遍历所有元素并删除它们 elementsToRemove.forEach(function (element) { element.parentNode.removeChild(element); }); 修改文章中图片清晰度 参考：https://gohugo.io/templates/render-hooks/\n在 themes\\zzo\\layouts\\_default\\ 里面新建 _markup\\render-image.html 文件，在里面添加如下内容：\n1 2 3 4 5 6 7 8 9 10 \u0026lt;div class=\u0026#34;custom-image-container\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ .Destination | safeURL }}\u0026#34; alt=\u0026#34;{{ .Text }}\u0026#34; {{ with .Title }}title=\u0026#34;{{ . }}\u0026#34;{{ end }} class=\u0026#34;custom-image-class lazyload\u0026#34; data-srcset=\u0026#34;{{ .Destination | safeURL }} 1.25x\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; 修改前：\n修改后：\n修改面包屑溢出 添加滑动条，在 _custom.scss 添加如下内容：\n1 2 3 .breadcrumb{ overflow-x:auto; } hugo server 警告 处理第一个告警，打开 _default/config.toml 文件，删除 [outputs] 下的：\n1 taxonomyTerm = [\u0026#34;HTML\u0026#34;, \u0026#34;RSS\u0026#34;, \u0026#34;SearchIndex\u0026#34;] ","description":"","id":14,"section":"hugo","tags":null,"title":"博客优化","uri":"https://ayuxy.github.io/zh/hugo/2023-1120-01/"},{"content":"Sample images from Pixabay\n","description":"cartoon gallery","id":15,"section":"gallery","tags":null,"title":"Cartoon","uri":"https://ayuxy.github.io/zh/gallery/cartoon/"},{"content":"Sample images from Pixabay\n","description":"photo gallery","id":16,"section":"gallery","tags":null,"title":"Photo","uri":"https://ayuxy.github.io/zh/gallery/photo/"}]